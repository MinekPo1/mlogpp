function draw_line(x1, y1, x2, y2) {
    dx = x2 - x1
    dy = y2 - y1
    D = 2 * dy - dx
    y = y1

    for (x = x1; x < x2; x += 1) {
        draw(rect, x, y, 1, 1)

        if (D > 0) {
            y += 1
            D = D - 2 * dx
        }
        D = D + 2 * dy
    }
}

draw(clear, 0, 0, 0)
for (i = 10; i < 100; i += 1) {
    op(noise, r, i, 0)
    op(abs, r, r, _)
    op(noise, g, i, 1)
    op(abs, g, g, _)
    op(noise, b, i, 2)
    op(abs, b, b, _)
    draw(color, r * 255, g * 255, b * 255, 255)
    draw_line(i, 10, 100, 100)
    drawflush(display1)
}
